@model List<User>
@using Projet_Finale.Auth;
@{
    SessionData session = Context.Items["SessionData"] as SessionData;
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<h2>Gestion Utilisateurs</h2>
<div id="userData"
     data-session-id="@session.SessionID"
     data-ip-address="@session.IpAddress"
     style="display: none;">
 </div>
<table class="table">
    <thead style="color:white !important;">
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Email</th>
            <th>Role</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody style="color: white !important">
        @foreach (var user in Model)
        {
            <tr>
                <td class="id">@user.User_Id</td>
                <td data-field-name="Username" class="editable save">@user.Username</td>
                <td data-field-name="Email" class="editable save">@user.Email</td>
                <td class="editable">
                    <select class="role-dropdown" disabled>
                        @foreach (var role in ViewBag.Roles)
                        {
                            <!option value="@role" @(role == user.Role ? "selected='selected'" : "")>@role</!option>
                        }
                    </select>
                </td>
                <td>
                    <button class="edit-button" data-user-id="@user.User_Id">
                        <i class="bi bi-pencil"></i>
                    </button>
                    <button class="confirm-button" style="display: none;">
                        <i class="bi bi-check"></i>
                    </button>
                    <button class="delete-button">
                        <i class="bi bi-trash"></i>
                    </button>
                    <button class="cancel-button" style="display: none;">
                        <i class="bi bi-x"></i>
                    </button>
                </td>
            </tr>
        }
    </tbody>
</table>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="~/js/ManageUser.js"></script>
